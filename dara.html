<html>
<head>
<style>
@font-face {
    font-family: amiri;
    src: url('res/amiri-regular.woff');
}
#pic{
	width:100%;
	}
#txt{
	font-family:amiri;
	font-size:100px;
	width:100%;
	text-align:center;
  direction:rtl;
  line-height:150%;
	}
a:hover{
	color:red;
	cursor:pointer;
	}
.bd{
	font-family:amiri;
	font-size:100px;
	width:100%;
	text-align:right;
  direction:rtl;
  line-height:150%;
  padding:20px;
	}
.ft{
  border:0px red solid;
	width:100%;
	text-align:left;
  direction:ltr;
  display:flex;
	}
.cp{
	height:120px;
	}
.cc{
	font-size:80px;
  color:#fff;
  background-color:#00f;
  width:300px;
  height:300px;
  border-radius:150px;
  margin:20px;
  line-height:120%;
  text-align: center;
  }
	
@media screen and (orientation:landscape) {
	#pic{
		float:left;
		width:50%;
		}
	#txt{
		float:left;
		font-size:100px;
		width:50%;
	}
 }
</style>
</head>
<body>
<button onclick="toc()" title="Table of contents">Pages</button>
<button onclick="prev()" title="Prev Page">Prev</button>
<button onclick="next()" title="Next Page">Next</button>
<button>Read</button>
<div id=con>
<div id=pic>
<img id=imageid src="res/p01.jpg" width=100%>
</div>

<div id=txt>
<a onclick="ps('0101')">
دار
</a>
<br>
<a onclick="ps('0101')">
دار
</a>
<a onclick="ps('0101')">
دار
</a>
<a onclick="ps('0101')">
دار
</a>
</div>
</div>
<audio id="a0101"><source src="res/a0101.mp3" preload=auto></audio>

<script>
var i=1;
var z="p0";

function ps(id){
  var aid="a"+id;
	document.getElementById(aid).play();
	}

function next(){
  if(i>9) z="p"; else z="p0";
  if(i<a.length) i++;
  document.getElementById("imageid").src="res/" + z + i + ".jpg";
  var t=a[i];
  t=eng_to_kur(t);
  t=add_tags(t);
  document.getElementById("txt").innerHTML=t;
  }
  
function prev(){
  if(i>9) z="p"; else z="p0";
  if(i>0) i--;
  document.getElementById("imageid").src="res/" + z + i + ".jpg";
  var t=a[i];
  t=eng_to_kur(t);
  t=add_tags(t);
  if(i==0) t=toc();
  document.getElementById("txt").innerHTML=t;
  }

function goto(lc){
  i=lc-1;
  next();
  }
  
function toc(){
  var rv="<div class=bd>";
  for (var j=1;j<a.length;j++){
    var ta=a[j].split("|");
    if(ta[0]=="") ta[0]="dara dara";
    var t=eng_to_kur(ta[0]);
    var jk=eng_to_kur(j+"");
    tt=jk+". <a onclick='goto("+j+")'>"+t+"</a><br>";
    rv+=tt;
    }
  rv+="</div>";
  return rv;
  }

document.addEventListener("keydown",event => {
  if (event.key==="ArrowRight"){
      next();
    }
    
  if (event.key==="ArrowLeft"){
      prev();
    }

  if (event.key > -1 && event.key < 10){
      i=event.key;
      i++;
      prev();
    }
  });

function add_tags(t){
  var rv="";
  var a=t.split(" ");
  console.log(a);
  for (var j=0;j<a.length;j++){
    k=j;
    var i0=i.toString();
    var i0=i0.padStart(2,"0");
    var k0=k.toString();
    var k0=k0.padStart(2,"0");
    var w=a[j];
    console.log(w);
    var tw="";
    var lc=w.slice(-1);
    if(lc=="."|| lc=="،"|| lc=="!"|| lc=="?"|| lc=="|") {
      w=w.slice(0,-1);
      tw="<a id=w"+i0+k0+" onclick=ps('"+i0+k0+"')>"+w+"</a>"+lc+" ";
      } else{
      tw="<a id=w"+i0+k0+" onclick=ps('"+i0+k0+"')>"+w+"</a> ";
      }
    rv+="<audio id=a"+i0+k0+"><source src=res/t/a"+i0+k0+".mp3 preload=auto></audio>"
    rv+=tw;
    }
  var a=rv.split("|");
  var tt="<div class=tt>"+a[0]+"</div>";
  var bd="<div class=bd>"+a[1]+"</div>";
  var cc="<div class=ft><div class=cc>"+a[2]+"</div><div class=cp><img src='res/p"+i0+".jpg' onload='this.style.opacity=1'></div></div>";
  if(i<3) cc="";
  rv=tt+bd+cc;
  rv=rv.replaceAll("#","<br>");
  return rv;
  }

function eng_to_kur(eng){
  var kur=eng;
  kur=kur.replaceAll("j","ژ");
  kur=kur.replaceAll("s^","ش");
  kur=kur.replaceAll("r^","ڕ");
  kur=kur.replaceAll("i^","ێ");
  kur=kur.replaceAll("a","ا");
  kur=kur.replaceAll("d","د");
  kur=kur.replaceAll("r","ر");
  kur=kur.replaceAll("u","و");
  kur=kur.replaceAll("i","ی");
  kur=kur.replaceAll("e","ه‌");
  kur=kur.replaceAll("z","ز");
  kur=kur.replaceAll(",","،");
  kur=kur.replaceAll("o","ۆ");
  kur=kur.replaceAll("~","ئ");
  kur=kur.replaceAll("n","ن");
  kur=kur.replaceAll("k","ك");
  kur=kur.replaceAll("_","ـ");
  kur=kur.replaceAll("?","؟");
  kur=kur.replaceAll("m","م");
  kur=kur.replaceAll("b","ب");
  kur=kur.replaceAll("t","ت");
  kur=kur.replaceAll("s","س");
  kur=kur.replaceAll("","");
  kur=kur.replaceAll("0","٠");
  kur=kur.replaceAll("1","١");
  kur=kur.replaceAll("2","٢");
  kur=kur.replaceAll("3","٣");
  kur=kur.replaceAll("4","٤");
  kur=kur.replaceAll("5","٥");
  kur=kur.replaceAll("6","٦");
  kur=kur.replaceAll("7","٧");
  kur=kur.replaceAll("8","٨");
  kur=kur.replaceAll("9","٩");
//  kur=kur.replaceAll("#","<br>");
  return kur;
  }

const a=[
    "nauerok",
    "dar| dar dar dar|",
    "dara| dara dara dara|",
    "|dara dara# dar dar| d# a# r",
    "dar| dara dari di,# dari di dara.| dari di# i",
    "dau| ui, ui, dau,# daui dara, dau.| dau# u",
    "dara| uere dereue, dara# uere, uere.# dara, uere dereue.| uere# e",
    "duu dar| dara duu dari di# duu dar,# duu dari duur duur.| duu# uu",
    "uazi| zara, zara# uere uazi.# zuu uere, zuu.| zara# z",
    "do| dade, do, do.# uere dara, uere,# dade doi zore.# dei, zuu uere,| do# o",
    "~au| ~ai, ~ai,#doi dade ~aui zore.#~oi, ~oi, dara,#do ~aui ua zore.| ~au#~_",
    "dade| dade, dade,#uere deri^.#~eue ~azade, doi deui^.#~i^, ~i^, dara.#dade ua di^.| deri^#i^",
    "r^au| zerde, zerde ua r^aue,# dei, dei,#ua ~azad r^oi# ~oi, zerde deuer^i^.#zerde dr^e,#zerde zor zor dr^e.| r^au# r^",
    "do r^jaue|- ~azad, ~azad, uere juuri^# ua doi dade r^jaue.# - ~oi, ~eue duu r^oje der^ji^# duu r^oje doi dade der^ji^.| juur# j",
  "zrize|- ~ai, ~euei zrizei diue,# zrizei ~azad?# - uere, uere, dara,# ~eu zrize ziue zrizei ~azade?# ~ei, ~ei, ~eue zrizei ~azade.| zrize# i_ ",
  "dari dri^j| zara, uere ~i^re,# ua ~eu dare dri^je r^uuaue.# dei zara, zuu uere,# ~eu dare dri^je ua r^uuaue.| dri^j# i^_",
  "~audan| zara u ~azad ua der^on,# ~aui ~eu duu dare deden.# ~eu duu dare zuu der^ui^n,# zuu zuu ~au dedri^n.| ~audan# n",
  "nazi^| daie ~eue neuzade.# ua der^oine nau ~eu darane.# der^oin dar der^ui^nin.# ~oi, nazi^, dar der^ui^nn?# diare ~i^ue zor ~azan.# zuu uerneue, zuu.| nazdar# n_",
  "dar der^ui^nm| - daie, ua ~em duu dare der^ui^nm,# duai ~eue, ~auian dedem,# - uere nazi^, uere,# ua der^oin, zuu uere# - ua di^m daie, ua di^m,# ~em duu dare der^ui^nm,# duai ~eue di^m| dar der^ui^nm# m",
  "mer^e zerd| ma, ma, ma,# mame, mame,# ~eme mer^e zerde,# mer^e zerdi mn# mn di^meue mame.# ua der^om ~aui dedem, daui ~eue di^meue,| mer^i mn# m_",
  "mi^uji naiab| - ~emeie mi^uj, mi^uji naiab.# - mam zorab, mam zorab,# mer^o, mer^o, mi^ujm deui^.# - zuu uere zeineb, zuu,# dei uere, ~emeie mi^uji naiab| zeineb# b",
  "bebei zeineb | zeineb, uere, uere # mame bebei bo narduui. # mame bebei bo narduum? # bji daie, # bji babe, # bji mame. | bebe # b_",
  "baran debari^t | ~ai neuzad, ua baran debari^t, # ~em_r^o ~au zor debi^t, # be baran dar zuu der^ui^t, # bnuar^e mam zorab, ua der^uat # der^uat bo bazar^, mi^uj di^ni^t | baran debari^t # t",
  "teiare | bnuar^n, teiare, teiare. # teiarei uatan diue? # ua deibeme nau ~eu darane. # ~euei zuu ditieue, # debi^te teiarei ~eu. # ~azad to detuani zuutr bidoziteue? | teiare # t_",
  "uus be | uus, uus, dara, bnuar^e ~eu teirane # uis, uis, uis # ~ai, ~ai, ~azad, uere, # ~em teirane bere. # uus be dara, uus, uazbi^ne, # bes ~euende ~azari teir bde. | us be # s",
  "si^u | ~azad, si^ si^um bo berdeue. # r^aueste nesrin, ba berneb_meue, # ~i^sta si^ si^uan berdedemeue, # ~eue si^ui^, # ~eue duu si^u, # ~eue si^ si^u, # si^ui dit deui^? # bese, bese, nameui^ | si^u # s_",
  "r^oj bas^ | r^ojbas^ babe. # r^oj bas^, nesrin. # babe ~eue der^oi? # mnis^ bi^m? # nesrin, ~i^sta bo ~is^ der^om # ~i^uari^ duai ~is^ di^meue, # ~eusa der^oin bo dereue. | r^ojbas^ # s^",
  "s^uus^e s^ir | bnuar^e ~em s^uus^e s^ire, # s^iri mer^e zerdi mne, # s^iri mer^e zerd s^irine. # uern danis^n, s^uus^ei uatan diue? # ~i^sta der^om deis^armeue, # deidem beuei bidozi^teue. | s^uus^e # s^_"
    ];
</script>
</body>
</html>

<!--
=====
to do
=====
add more pages
add sound
make buttons work
====
done
====
read each word separatly
add buttons for read, next and content
add static firsst lesson
mouseover text color to red
onclick read text
font amiri
responsive designs for portrait and landscape
-->
